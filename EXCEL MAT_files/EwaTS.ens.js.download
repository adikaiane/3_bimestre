'use strict';(window.dullscriptWebpackJsonp=window.dullscriptWebpackJsonp||[]).push([[48],{889:function(y,r,a){a.r(r);y={};a.r(y);var c=a(6);r=a(65);var b=a(5),f=a(249),k=a(0),x=a(19),d=Object(x.b)("Common.Interface.IEditNotificationManager");const h=Object(x.c)(d),n=Object(x.b)("Common.Interface.IUserActivityHostNotificationManager");d=a(1225);const m=Object(x.c)(d.a);var u=a(537),l=a(15),t=a(112);class e{constructor(){this.xb=new t.a}Dod(O){this.xb.addHandler("OnEditHappenedEvent",O)}xik(){this.xb.raiseEvent("OnEditHappenedEvent")}}
Object(k.a)(e,"EditNotificationEventSource",null,[]);var w=a(103),z=a(98),E=a(125),M=a(136),G=a(26),A=a(200);class N{constructor(O,C,X,S,ea,Oa,Ha=0){this.n$c=!1;this.m$c=this.wQa=null;this.P_e=!1;this.A5b=()=>{this.n$c&&(this.cBa.CWR(()=>this.cBa.result.sendMessage(M.a.xki,null)),l.ULS.sendTraceTag(38086292,209,50,"EditNotificationManager: sending post message to the host."),this.n$c=!1)};this.Mwk=()=>{try{this.mec&&(z.c(G.a.bDd),this.mec=!1)}catch(Za){this.mec=!1,l.ULS.sendTraceTag(51246177,383,
50,"Hit an exception while trying to send the EditDocument user action: "+Za)}};this.Ve=C;this.ugc=O;this.cBa=X;this.Q$=S;this.N_e=ea;this.Zlh=Oa;this.rdc=0;this.mec=!1;try{0<Ha&&(this.rdc=Ha,3E5>this.rdc&&(this.rdc=3E5),this.Ve&&!this.m$c&&(this.m$c=new E.a(3,2,this.rdc,this.Mwk),this.Ve.Ag(this.m$c)))}catch(Za){l.ULS.sendTraceTag(51246176,383,50,"Hit an exception while trying to queue up the EditDocument user action reporting interval: "+Za)}}get bhl(){return this.P_e}Drf(){this.bhl?this.mec=!0:
(this.P_e=!0,w.Health.instance.addQosPillar(A.a[A.a.Save]),w.Health.instance.addQosPillar(A.a[A.a.ContentCreation]),z.c(G.a.bDd));this.n$c=!0;this.N_e&&this.N_e.u1e();this.Q$&&this.Q$.xik();c.AFrameworkApplication.Rf&&c.AFrameworkApplication.Rf.RJj();this.Zlh&&!this.wQa&&(this.A5b(null),this.wQa=new E.a(3,2,this.ugc,this.A5b,113),this.Ve.Ag(this.wQa))}}Object(k.a)(N,"EditNotificationManager",null,[277]);var K=a(16);class I{constructor(O,C,X,S,ea){this.Yad=this.wQa=null;this.P9a=this.x6c=!1;this.OEg=
()=>{const Oa=document.getElementById(c.AFrameworkApplication.Jmc);!this.P9a&&this.DW&&Oa&&(this.DW.va(K.a.k1a,Oa,this.$5d,null),this.P9a=!0);this.igd(()=>{this.dispose()})};this.$5d=()=>{this.P9a&&(this.DW.Ua(K.a.k1a,document.getElementById(c.AFrameworkApplication.Jmc),this.$5d),this.P9a=!1);this.u1e();return!1};this.A5b=()=>{this.x6c&&(this.cBa.CWR(()=>this.cBa.result.sendMessage(M.a.Tgl,null)),l.ULS.sendTraceTag(38405446,209,50,"UserActivityHostNotificationManager: sending post message to the host."),
this.x6c=!1)};this.Ve=C;this.ugc=O;this.cBa=X;this.DW=S;this.igd=ea;this.OEg(null)}u1e(){this.x6c=!0;this.Yad||(this.Yad=new E.a(3,2,this.ugc,this.OEg,112),this.Ve.Ag(this.Yad));this.wQa||(this.A5b(null),this.wQa=new E.a(3,2,this.ugc,this.A5b,111),this.Ve.Ag(this.wQa))}dispose(){this.P9a&&(this.DW.Ua(K.a.k1a,document.getElementById(c.AFrameworkApplication.Jmc),this.$5d),this.P9a=!1)}}Object(k.a)(I,"UserActivityHostNotificationManager",null,[276,4]);var L=a(332),J=a(281),B=a(95),Y=a(613);class U{constructor(){this.oc=
null;this.LC=()=>{U.editNotificationIsEnabled&&0<U.gDd&&(this.oc.register(e,"Common.App.HostNotification.EditNotificationEventSource").Lc(),this.oc.register(I,"Common.App.HostNotification.UserActivityHostNotificationManager").as("Common.Interface.IUserActivityHostNotificationManager").Lc().Qc(()=>new I(6E4,B.TaskManager.instance,Y.a.Jq(Object(x.d)(u.a)),L.a.instance,c.AFrameworkApplication.VMa)),this.oc.register(N,"Common.App.HostNotification.EditNotificationManager").as("Common.Interface.IEditNotificationManager").Lc().Qc(()=>
new N(U.gDd,B.TaskManager.instance,Y.a.Jq(Object(x.d)(u.a)),Object(x.a)(m),Object(x.f)(n),U.editNotificationPostMessageIsEnabled,U.vki)),Object(x.a)(h),l.ULS.shipAssertTag(38086291,209,0<U.gDd,"EditNotification Interval is less than or equal to 0."))}}get name(){return"Common.App.EditNotification"}init(){c.AFrameworkApplication.ea&&c.AFrameworkApplication.ea.hr(this.LC)}ji(O){this.oc=O}dispose(){}static get gDd(){return c.AFrameworkApplication.ea?parseInt(c.AFrameworkApplication.ea.appSettings.EditNotificationTimeIntervalMs||
"300000"):3E5}static get vki(){return c.AFrameworkApplication.ea?parseInt(c.AFrameworkApplication.ea.appSettings.EditDocumentUserActionTelemetryReportingIntervalInMilliseconds||"0"):0}static get editNotificationIsEnabled(){return!!c.AFrameworkApplication.ea&&c.AFrameworkApplication.ea.ka("EditNotificationIsEnabled")}static get editNotificationPostMessageIsEnabled(){return!!c.AFrameworkApplication.ea&&c.AFrameworkApplication.ea.ka("EditNotificationPostMessageIsEnabled")}static main(){J.a.instance.Qi(new U)}}
Object(k.a)(U,"CommonHostNotificationPackage",null,[11,12]);Object(r.b)(b.EditNotificationManagerService,{we:"singleton"})(async()=>{Type.registerNamespace("Common.App.HostNotification");U.main();return c.AFrameworkApplication.ea.ka("EditNotificationIsEnabled")?f.a.instance.resolve("Common.App.HostNotification.EditNotificationManager"):null});String(y);window.___1717508060454_closurehack=y}}]);

//# sourceMappingURL=https://artifacts.dev.azure.com/office/_apis/symbol/symsrv/EwaTS.ens.js.map/2376627380798fee33ecaee1ded34ed0/EwaTS.ens.js.map